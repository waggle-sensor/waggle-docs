<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Waggle Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Waggle Docs Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Waggle Docs" href="/opensearch.xml"><title data-react-helmet="true">Architecture | Waggle Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.waggle-edge.ai/docs/about/architecture"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Architecture | Waggle Docs"><meta data-react-helmet="true" name="description" content="Figure 1: A high-level overview of the Sage Cyber-infrastructure"><meta data-react-helmet="true" property="og:description" content="Figure 1: A high-level overview of the Sage Cyber-infrastructure"><link data-react-helmet="true" rel="icon" href="/img/sage-favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.waggle-edge.ai/docs/about/architecture"><link data-react-helmet="true" rel="alternate" href="https://docs.waggle-edge.ai/docs/about/architecture" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.waggle-edge.ai/docs/about/architecture" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://XYV3A23P29-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7c7e7052.css">
<link rel="preload" href="/assets/js/runtime~main.d8139f44.js" as="script">
<link rel="preload" href="/assets/js/main.b4fe6a0e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Waggle</b></a><a class="navbar__item navbar__link" href="/docs/about/overview">About</a><a class="navbar__item navbar__link" href="/docs/tutorials/accessing-data">Tutorials</a><a href="https://portal.sagecontinuum.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sage Portal</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/docs/category/about">About</a><button aria-label="Toggle the collapsible sidebar category &#x27;About&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/about/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/category/resources">Resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contact-us">Contact us</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Architecture</h1><p><img alt="Figure 1: A high-level overview of the Sage Cyber-infrastructure" src="/assets/images/SAGE_CI-72e9bd7885c39bd99c7d43cb0083c372.jpg" width="1666" height="768"></p><p>The Sage project will design and build a new kind of national-scale reusable cyber-infrastructure to enable AI at the edge.  The illustration above shows a high-level view of the Sage CI architecture and enumerates the various software services, tools and infrastructure pieces. Below a quick summary of each of the components and their interrelationships is provided.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="nodes">Nodes<a class="hash-link" href="#nodes" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-node"><a href="https://github.com/sagecontinuum/nodes" target="_blank" rel="noopener noreferrer">Sage Node</a><a class="hash-link" href="#sage-node" title="Direct link to heading">​</a></h4><p>Any Edge node part of the Sage project.  This includes new AoT nodes, Wild Sage nodes, and Sage Blades.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="array-of-things-aot-node"><a href="https://arrayofthings.github.io/" target="_blank" rel="noopener noreferrer">Array of Things (AoT) Node</a><a class="hash-link" href="#array-of-things-aot-node" title="Direct link to heading">​</a></h4><p>A weatherized Waggle Node designed to be installed on a street pole in the city or mounted on exterior walls.  An AoT node usually includes a sensor pod that includes air quality sensors.  The device is also attractive for an urban setting.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="wild-sage-node"><a href="https://github.com/sagecontinuum/nodes" target="_blank" rel="noopener noreferrer">Wild Sage Node</a><a class="hash-link" href="#wild-sage-node" title="Direct link to heading">​</a></h4><p>This identifies Waggle Nodes that are weatherized for remote, outdoor deployment as part of the Sage project.  These nodes are similar to AoT nodes, but since urban aesthetics are not needed, and different cameras and sensors might be used, the Wild Sage Node may look strange.  Wild Sage Nodes look like proper bits of science experiments mounted outside, while AoT nodes look like they deserve an architectural award.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-blade"><a href="https://github.com/sagecontinuum/nodes" target="_blank" rel="noopener noreferrer">Sage Blade</a><a class="hash-link" href="#sage-blade" title="Direct link to heading">​</a></h4><p>This identifies Waggle Nodes that are standard, commercially available blade server or box intended for use in a machine room or climate controlled telecommunications hut.  For the Sage project, the first Sage Blades are Dell XR2 1U servers that have been hardened for increased environmental range. They include a powerful NVIDIA GPU for AI@Edge compute jobs.  As a Waggle Node, they run the complete Waggle software stack, and therefore can run Edge jobs, report data, and be remotely configured.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="waggle-node"><a href="https://github.com/waggle-sensor/waggle" target="_blank" rel="noopener noreferrer">Waggle Node</a><a class="hash-link" href="#waggle-node" title="Direct link to heading">​</a></h4><p>This slang indicates that an AI@Edge computer is running the Waggle software stack.  It is similar to saying “It is a Linux Box”.  The Linux box could be running a web server or a database, but is running the core Linux software stack.  “A Waggle Node” runs the Waggle encrypted and reliable messaging layers, configuration system, resilience components, adheres to the Waggle security model, provides the AI@Edge runtime libraries, and provides the resource management components to schedule and run Edge docker containers from the Edge Code Repository.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="software-infrastructure">Software infrastructure<a class="hash-link" href="#software-infrastructure" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-core-services-scs"><a href="https://github.com/sagecontinuum/bic" target="_blank" rel="noopener noreferrer">Sage Core Services (SCS)</a><a class="hash-link" href="#sage-core-services-scs" title="Direct link to heading">​</a></h4><p>To deliver the Sage Cyberinfrastructure, a set of essential components and tools provide data APIs, authentication, and management services to the entire framework.  This includes: Storage &amp; Storage API, Authorization Service, User Management and Authentication, Sage Continuous Integration, Public Streaming Service, and Sage Web Portal.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="waggle-edge-stack-wes"><a href="https://github.com/waggle-sensor/waggle-edge-stack" target="_blank" rel="noopener noreferrer">Waggle Edge Stack (WES)</a><a class="hash-link" href="#waggle-edge-stack-wes" title="Direct link to heading">​</a></h4><p>The WES includes the operating system image and Waggle services running on the NC and EP as well as the ML run-time libraries and tools. It also manages cybersecurity, certificate management, and manages system resources, such as power, memory, and cores. It constantly updates its state with the cloud server to fetch and perform any task scheduled from SES.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-edge-scheduler-ses"><a href="https://github.com/sagecontinuum/ses" target="_blank" rel="noopener noreferrer">Sage Edge Scheduler (SES)</a><a class="hash-link" href="#sage-edge-scheduler-ses" title="Direct link to heading">​</a></h4><p>All configuration changes, whether they be software updates or new edge computing algorithms are handled by the SES. Users who have edge code already running and deployed on Waggle nodes can use their authentication token to push configuration changes to nodes via the SES. Users can also submit “jobs” that can be scheduled and run on nodes at a later time. The SES makes all configuration and system update decisions, and queues up changes that can be pushed out to nodes when they contact Beehive.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-lambda-triggers-slt-in-design"><a href="https://github.com/sagecontinuum/slt" target="_blank" rel="noopener noreferrer">Sage Lambda Triggers (SLT)</a> <small class="muted">(in design)</small><a class="hash-link" href="#sage-lambda-triggers-slt-in-design" title="Direct link to heading">​</a></h4><p>The SLT provides a framework for two kinds of triggers: From-Edge and To-Edge. A value or message from a Waggle edge node, delivered to Beehive, can be used to trigger a lambda function -- for example, if high wind velocity is detected, a function could be triggered to determine how to reconfigure sensors or launch a computation or send an alert. Similarly, an HPC calculation or cloud-based data analysis could trigger an API call to the SES and send a notification to a Waggle edge node -- for example to request scheduling of new edge computations or reposition mobile assets.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="cloud-training-software-stack-ctss-in-design"><a href="https://github.com/sagecontinuum/ctss" target="_blank" rel="noopener noreferrer">Cloud Training Software Stack (CTSS)</a> <small class="muted">(in design)</small><a class="hash-link" href="#cloud-training-software-stack-ctss-in-design" title="Direct link to heading">​</a></h4><p>CTSS will provide interfaces (CTSS Training Environment and CTSS API Client) and documentation with end-to-end examples for users to allow them to build and bundle the components necessary to test on a Virtual Waggle and then on a Sage Node. It can be run on the cloud or as a downloadable software.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="data">Data<a class="hash-link" href="#data" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-data-repository-sdr"><a href="https://github.com/waggle-sensor/waggle-beehive-v2" target="_blank" rel="noopener noreferrer">Sage Data Repository (SDR)</a><a class="hash-link" href="#sage-data-repository-sdr" title="Direct link to heading">​</a></h4><p>Accessed via the <a href="/docs/about/docs/tutorials/accessing-data">Sage Data API</a>, Sage data is made open for research wherever possible.  Some training data sets may require data-usage agreements to adhere to privacy guidelines or for operational security.  However all sensor data and AI@Edge inference results are intended to be open and immediately shared in near-real time via the SDR. The SDR aggregates all data collected by Sage Nodes and provides web-based tools for extracting (slicing and dicing) relevant data components or viewing the data on map tools (previously known as BDR).</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="sage-object-store--open-storage-network"><a href="https://github.com/sagecontinuum/sage" target="_blank" rel="noopener noreferrer">Sage Object Store / Open Storage Network</a><a class="hash-link" href="#sage-object-store--open-storage-network" title="Direct link to heading">​</a></h4><p>The Sage Object Store API enables storing of larger objects (files), such as images, audio, and data sets.  When an object is stored via an ECR application, a reference to these files are kept in SDR and can be accessed via the <a href="/docs/tutorials/accessing-data#accessing-large-files-ie-training-data">Object Store API</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="edge-code-repository">Edge Code Repository<a class="hash-link" href="#edge-code-repository" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="edge-code-repository-ecr"><a href="https://github.com/sagecontinuum/sage-ecr" target="_blank" rel="noopener noreferrer">Edge Code Repository (ECR)</a><a class="hash-link" href="#edge-code-repository-ecr" title="Direct link to heading">​</a></h4><p>A library of tested and benchmarked AI@Edge codes that can run on the Waggle software stack.  The ECR provides a verified and versioned repository of AI@Edge docker images that can be pushed by the Beehive to Sage Nodes and executed.  <a href="https://portal.sagecontinuum.org/apps/explore" target="_blank" rel="noopener noreferrer">View public apps on portal</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="utilities">Utilities<a class="hash-link" href="#utilities" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="virtual-waggle-vw"><a href="https://github.com/waggle-sensor/virtual-waggle" target="_blank" rel="noopener noreferrer">Virtual Waggle (VW)</a><a class="hash-link" href="#virtual-waggle-vw" title="Direct link to heading">​</a></h4><p>Virtual Waggle is a downloadable software-only programming environment for building and testing edge computing code for the Waggle framework.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="bench-top-waggle-driver-bwd-in-design"><a href="https://github.com/sagecontinuum/bwd" target="_blank" rel="noopener noreferrer">Bench-top Waggle Driver (BWD)</a> <small class="muted">(in design)</small><a class="hash-link" href="#bench-top-waggle-driver-bwd-in-design" title="Direct link to heading">​</a></h4><p>The BWD provides a remotely controllable interface to a physical Waggle node. The BWD will control as many physical attributes of the Waggle node as possible, including the serial console.  Ideally, almost everything that can be done physically, while a node sits on a desk, can be done remotely via the BWD.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="support-infrastructure">Support Infrastructure<a class="hash-link" href="#support-infrastructure" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="beehive"><a href="https://github.com/waggle-sensor/waggle-beehive-v2" target="_blank" rel="noopener noreferrer">Beehive</a><a class="hash-link" href="#beehive" title="Direct link to heading">​</a></h4><p>Beehive is a cloud endpoint that offers several services for Waggle nodes and derivatives (AoT, Sage etc.)
including authentication, management, configuration, data aggregation and dissemination. Beehive is hosted
at Argonne National Laboratory.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="beekeeper"><a href="https://github.com/sagecontinuum/beekeeper" target="_blank" rel="noopener noreferrer">Beekeeper</a><a class="hash-link" href="#beekeeper" title="Direct link to heading">​</a></h4><p>Beekeeper is the is an administrative cloud endpoint that all Sage nodes connect to allow Sage administrators to perform actions on the nodes such as gather health metrics, and perform software updates.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/waggle-sensor/waggle-docs/edit/main/docs/about/architecture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/about/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/category/resources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Resources</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#nodes" class="table-of-contents__link toc-highlight">Nodes</a></li><li><a href="#software-infrastructure" class="table-of-contents__link toc-highlight">Software infrastructure</a></li><li><a href="#data" class="table-of-contents__link toc-highlight">Data</a></li><li><a href="#edge-code-repository" class="table-of-contents__link toc-highlight">Edge Code Repository</a></li><li><a href="#utilities" class="table-of-contents__link toc-highlight">Utilities</a></li><li><a href="#support-infrastructure" class="table-of-contents__link toc-highlight">Support Infrastructure</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/overview">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contact-us">Get Support</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Waggle</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d8139f44.js"></script>
<script src="/assets/js/main.b4fe6a0e.js"></script>
</body>
</html>